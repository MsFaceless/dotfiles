# -*- coding: utf-8 -*-

import os
from hashlib import sha256
from datetime import datetime

from sqlalchemy.orm import relation, synonym
from sqlalchemy import Table, ForeignKey, Column
from sqlalchemy.types import Unicode, Integer, DateTime, Boolean

from rocket.model import DeclarativeBase, metadata, DBSession
from rocket.lib.model_utils import PhatBase, common_columns, get_type_table, get_phat_table

CampaignStateType = get_type_table(model_name='CampaignState', table_name='campaign_state')

tbl_campaign_type = {
    '__tablename__': 'tbl_campaign_type',
    'name': common_columns.get('title_not_nullable')(),
}
CampaignType = get_phat_table(model_name='CampaignType', columndict=tbl_campaign_type)

tbl_campaign = {
    '__tablename__': 'tbl_campaign',
    'end_date': common_columns.get('date')(),
    'start_date': common_columns.get('date')(),
    'code': common_columns.get('title_not_nullable')(),
    'name': common_columns.get('description_not_nullable')(),
    'drawer_id': common_columns.get('integer_not_nullable')(),
    'campaign_type_id': common_columns.get('integer_not_nullable')(),
    'campaign_state_type_id': common_columns.get('integer_not_nullable')(),
}
Campaign = get_phat_table(model_name='Campaign', columndict=tbl_campaign)
