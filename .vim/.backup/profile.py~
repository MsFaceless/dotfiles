# -*- coding: utf-8 -*-
"""Profile controller module"""

from tg import predicates, require
from tg import expose, redirect, validate, flash, url, request

from tg.i18n import ugettext as _
from tg.i18n import lazy_ugettext as l_

from rocket.model import *

from sqlalchemy import func, desc, asc

from rocket.lib.tg_utils import *
from rocket.lib.base import BaseController

LIMIT = 20

class ProfileController(BaseController):

    def __init__(self, *args, **kwargs):
        pass

    @require(predicates.not_anonymous())
    @expose('rocket.templates.generic')
    def index(self, *args, **kwargs):
        html = self.get_active_tbl_member_html(*args, **kwargs)
        javascript = self.get_javascript_tbl_member_onload()
        title = _("My Profile")
        return dict(title=title, html=html, javascript=javascript)
